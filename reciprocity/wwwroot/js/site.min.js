(function(n){"use strict";function i(n,t){n.preventDefault();var i=document.getElementById(t);i!=null&&i.click()}function r(){$(".js-AutoFocus").first().focus()}function t(n,i){if(t.href==null)throw new Error("InvokeAutoSuggest.href is not set.");$.ajax({method:"GET",url:t.href,data:{Query:n},dataType:"json",success:function(n){i(n!=null?n:t.defaultResults)},failure:function(){alert("Error retrieving suggestions.");i(t.defaultResults)}})}function u(){return!0}function f(n){return n}function e(n){var t=Object.assign({},n);return t.name=n.value,t}function o(n){var t=$("<div><\/div>").text(n),f=this.query,i=f.split(/[^a-z0-9]+/gi),r,u;return i.length<=0?t.html():(r=new RegExp("(?:"+i.join("|")+")","gi"),u=t.html().replace(r,function(n){return"<strong>"+n+"<\/strong>"}),t.html(u).html())}function s(n){var t=this.$element;$("#"+t.attr("data-quantity-unit")).val(n.servingUnit);$("#"+t.attr("data-calories-per-serving")).val(n.caloriesPerServing);$("#"+t.attr("data-protein-per-serving")).val(n.proteinPerServing);$("#"+t.attr("data-serving")).val(n.serving);$("#"+t.attr("data-serving-unit")).val(n.servingUnit);n.isTerminal||this.lookup()}function h(){$(this).typeahead({source:t,items:"all",minLength:0,showHintOnFocus:!0,matcher:u,sorter:f,updater:e,highlighter:o,autoSelect:!1,afterSelect:s,delay:150,skipHeadersAndDividers:!0})}function c(){$(".js-AutoSuggest").each(h)}function l(){var n=$('meta[name="application-name"]');t.href=n.attr("data-auto-suggest-href")}function a(){l();c();r()}t.defaultResults=[];t.href=null;$(document).ready(a);n.ProxyLinkToButton=i})(window);