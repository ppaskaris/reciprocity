function ProxyLinkToButton(n,t){n.preventDefault();var i=document.getElementById(t);i!=null&&i.click()}function DoAutoFocus(){$(".js-AutoFocus").first().focus()}function DoAutoSuggest(n,t){n.removeData("AutoSuggestTimeout");var i=$("#"+n.attr("list"));$.ajax({method:"GET",url:n.attr("data-href"),data:{Query:t},dataType:"html",success:function(r){var u=n.data("AutoSuggestLastQuery");u===t&&(r!=null?i.html(r):i.empty())},failure:function(){var r=n.data("AutoSuggestLastQuery");r===t&&(n.data("AutoSuggestVersion",0),i.empty())}})}function AbortAutoSuggest(n){var t=n.data("AutoSuggestTimeout");t!=null&&(clearTimeout(t),n.removeData("AutoSuggestTimeout"))}function QueueAutoSuggest(){var n=$(this),t=n.val(),r=n.data("AutoSuggestLastQuery"),i;t!==r&&(AbortAutoSuggest(n),i=setTimeout(DoAutoSuggest,250,n,t),n.data("AutoSuggestTimeout",i),n.data("AutoSuggestLastQuery",t))}function AcceptAutoSuggest(){var n=$(this),t=n.val(),i=$("#"+n.attr("list"));i.find("option").each(function(i,r){var u=$(r),f=u.attr("value")===t;if(f)return n.val(u.attr("data-value")),$("#"+n.attr("data-quantity-unit")).val(u.attr("data-serving-unit")),$("#"+n.attr("data-calories-per-serving")).val(u.attr("data-calories-per-serving")),$("#"+n.attr("data-serving")).val(u.attr("data-serving")),$("#"+n.attr("data-serving-unit")).val(u.attr("data-serving-unit")),u.attr("data-is-terminal")==="True"&&AbortAutoSuggest(n),!1})}function InitAutoSuggest(){$(document).on("keyup input",".js-AutoSuggest",QueueAutoSuggest);$(document).on("input",".js-AutoSuggest",AcceptAutoSuggest)}function HandleDocumentReady(){DoAutoFocus();InitAutoSuggest()}$(document).ready(HandleDocumentReady);